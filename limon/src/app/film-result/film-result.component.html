<app-searchbar *ngIf="isMobile"></app-searchbar>
<app-category></app-category>
<h2 class="phrase-res" *ngIf="isSearch">Résultats de votre recherche</h2>
<section id="sorting" *ngIf="isSearch">
    <button (click)="onAlph();onSortAlph()" class="sort">
        <img src="../../assets/icons/croissant.svg" alt="Croissant" *ngIf="isAlph">
        <img src="../../assets/icons/decroissant.svg" alt="Décroissant" *ngIf="!isAlph">
        <p>A-Z</p>
    </button>
    <button (click)="onPrice();onSortPrice()"class="sort">
        <img src="../../assets/icons/croissant.svg" alt="Croissant" *ngIf="isPrice">
        <img src="../../assets/icons/decroissant.svg" alt="Décroissant" *ngIf="!isPrice">
        <p>Prix</p>
    </button>
    <button (click)="onDate();onSortDate()" class="sort">
        <img src="../../assets/icons/croissant.svg" alt="Croissant" *ngIf="isDate">
        <img src="../../assets/icons/decroissant.svg" alt="Décroissant" *ngIf="!isDate">
        <p>Date</p>
    </button>
</section>

<section id="results" *ngIf="!isEmpty && isSearch">
    <app-film-card *ngFor="let card of resMovies" [card]="card"></app-film-card>
</section>
<p class="empty" *ngIf="isEmpty">Aucun résultat</p>
<app-page-selector *ngIf="isSearch" [current]="currentPage" [total]="totalPage"></app-page-selector>


<section class="new" *ngIf="!isSearch">
    <section class="new-new">
        <h2>Nouveautés</h2>
        <div class="new-row" (scroll)="onScroll1($event)" #scroll1>
            <app-film-card *ngFor="let card of movies?.last_movies" [card]="card"></app-film-card>
        </div>
        <button class="new-new-next start" *ngIf="scrollToLeft1" (click)="scroll1Start()"><span></span></button>
        <button class="new-new-next" *ngIf="scrollToRight1" (click)="scroll1End()"><span></span></button>
    </section>
    <section class="new-popular">
        <h2>Les plus populaires</h2>
        <div class="new-row" (scroll)="onScroll2($event)" #scroll2>
            <app-film-card *ngFor="let card of movies?.most_rating_movies" [card]='card[0].movie'></app-film-card>
        </div>
        <button class="new-popular-next start" *ngIf="scrollToLeft2" (click)="scroll2Start()"><span></span></button>
        <button class="new-popular-next" *ngIf="scrollToRight2" (click)="scroll2End()"><span></span></button>
    </section>
</section>
<app-rgpd *ngIf="isRGPD" [(isRGPD)]="isRGPD"></app-rgpd>